<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8" />
  <title>わんこ温泉</title>
  <link rel="stylesheet" href="style/index/main.css" />
  <link rel="stylesheet" href="style/index/onsen_anime.css" />
  <link rel="stylesheet" href="style/index/gauge.css" />
  <link rel="stylesheet" href="style/coin.css" />
  <link rel="stylesheet" href="style/modal.css" />
</head>

<body>
  <div id="game">
    <div id="coin-display">
      <img src="icons/coin.png" alt="わんコイン" />
      <span id="coin-count">0</span>
    </div>
    <div id="status-display">
      <div>　おなか：<span id="hunger"></span></div>
      <div>ごきげん：<span id="mood"></span></div>
    </div>
    <img id="shiba" src="images/shiba.png" オーナーしば" />
    <div id="speech">ようこそ、わんこの湯へ！</div>
    <img id="guest" src="images/guest1.png" alt="お客さん" />

    <div class="steam steam1"></div>
    <div class="steam steam2"></div>
    <div class="steam steam3"></div>

    <button id="btn-zukan" class="button">
      <img src="icons/book.png" alt="図鑑" /><br>
      図鑑
    </button>
    <button id="btn-kyouka" class="button">
      <img src="icons/power.png" alt="強化" /><br>
      強化
    </button>
    <button id="btn-kaimono" class="button">
      <img src="icons/shop.png" alt="買い物" /><br>
      買物
    </button>
    <button id="btn-settei" class="button">
      <img src="icons/set.png" alt="設定" /><br>
      設定
    </button>
  </div>

  <!-- モーダル -->
  <div id="modal" class="modal hidden">
    <div class="modal-content">
      <span class="close-button" onclick="closeModal()">×</span>
      <div id="modalContent">
        <p>どっちにする？</p>
        <div class="container">
          <div class="card" onclick="selectFood('meal')">
            <img src="icons/meat.png" alt="ごはん">
            <p>ごはん<br><br><br>おなか回復</p>
          </div>
          <div class="card" onclick="selectFood('snack')">
            <img src="icons/heart.png" alt="おやつ">
            <p>おやつ<br><br><br>ごきげん回復</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="js/index/main.js"></script>
  <script src="js/index/speech.js"></script>
  <script src="js/index/gauge.js"></script>
  <script src="js/coin.js"></script>

  <script>
    window.onload = () => {
      startRandomSpeech(linesNormal);
      startGuestLoop();
      startGaugeDecay();
      updateDisplayGauge();
      updateDisplayCoin();
    };

    window.addEventListener("DOMContentLoaded", () => {
      const savedCoins = localStorage.getItem("coinCount");
      coinCount = savedCoins ? parseInt(savedCoins) : 0;
      updateDisplayCoin();
    });

    // ボタンイベント
    document.getElementById("btn-zukan").onclick = () => {
      window.location.href = "book.html";
    };
    document.getElementById("btn-kyouka").onclick = () => {
      window.location.href = "enhance.html";
    };
    document.getElementById("btn-kaimono").onclick = () => alert("買い物へ");
    document.getElementById("btn-settei").onclick = () => alert("設定へ");
  </script>

</body>

</html>